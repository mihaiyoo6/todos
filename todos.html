<head>
	<title>test</title>
	<meta name="robots" content="noindex,nofollow">
	<meta name="viewport" content="width=device-width" />
	<script src="/bower_components/webcomponentsjs/webcomponents.min.js"></script>
	<link rel="import" href="/bower_components/vulcanized.html">
</head>

<body>
	<core-header-panel mode="cover">
		<div class="core-header tall"></div>
		<div class="content" layout center>
			{{> toolbar}}
			<div class="task_list">
			<div class="input-container">
				<div layout horizontal center>					
				<paper-input floatingLabel label="New Task"></paper-input>
					<paper-button raised class="colored" data-action="newTask">Save</paper-button>
				</div>
			</div>
				{{#each tasks}}
					<div class="task_container">
						{{> task}}          
					</div>
				{{/each}}
			</div>
			<paper-fab icon="icons:add" data-action="fab"></paper-fab>
		</div>
	</core-header-panel>
	<paper-dialog id="loginDialog" transition="core-transition-top" heading="Login" backdrop>
	{{> loginDialog}}
	</paper-dialog>
	<paper-dialog id="registerDialog" transition="core-transition-top" heading="Register" backdrop>
	{{> registerDialog}}
	</paper-dialog>
</body>

<template name="task">
	<paper-shadow>
		<div layout horizontal flex>
			<!-- <input type="checkbox" checked="{{checked}}" class="toggle-checked" /> -->
			<paper-checkbox {{isChecked}} class="blue toggle-checked" ></paper-checkbox>
			<core-label flex>
				<div vertical layout flex>
					<paper-item>
						<strong>{{username}}</strong>
						 - {{text}}
					</paper-item>
				</div>
			</core-label>
			{{#if isOwner}}
				<div self-center class="status">{{isPrivateText}}</div>
				<paper-toggle-button {{isPrivate}} self-center></paper-toggle-button>
			{{/if}}
			<paper-icon-button icon="delete" data-action="deleteTask"></paper-icon-button>
		</div>
	</paper-shadow>
</template>

<template name="toolbar">
	<core-toolbar class="">
		<div flex>TODOS</div>
			{{> loginMenu}}
	</core-toolbar>
		<div class="bottom fit" horizontal layout>
    
	      <paper-tabs selected="0" flex>
	    
	        <paper-tab>All Tasks</paper-tab>
	        <paper-tab>Private</paper-tab>
	        <paper-tab>Completed</paper-tab>
	        
	      </paper-tabs>
	      
	    </div>
</template>

<template name="loginDialog">
<form>
    <paper-input label="Username" focus id="login-email" floatingLabel></paper-input>
    <paper-input label="Password" id="login-password" floatingLabel></paper-input>
    <!-- <input type="submit" value="Login"> -->
    <paper-button type="submit">Login</paper-button>
</form>
</template>

<template name="registerDialog">
<form>
    <paper-input label="Username" focus id="register-email" floatingLabel></paper-input>
    <paper-input label="Password" id="register-password" floatingLabel></paper-input>
    <!-- <input type="submit" value="Login"> -->
    <paper-button type="submit">Register</paper-button>
</form>
</template>


<template name="loginMenu">
	<paper-menu-button halign="right">
		<div layout horizontal>
	    <paper-icon-button icon="account-box"></paper-icon-button>
	    {{#if currentUser}}
			<div self-center>{{currentUser.username}}</div>
		{{/if}}
	</div>
		    <paper-dropdown class="dropdown" halign="right">
		    
		      <core-menu class="menu">
		       {{#if currentUser}}
		       		<paper-item id="changePwd-item">ChangePassword</paper-item>
					<paper-item id="logout-item">Logout</paper-item>
				{{else}}
		        	<paper-item id="login-item">Login</paper-item>
		        	<paper-item id="register-item">Register</paper-item>
	        	{{/if}}
		      </core-menu>
		    </paper-dropdown>
  </paper-menu-button>
</template>